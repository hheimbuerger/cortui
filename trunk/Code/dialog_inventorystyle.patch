Index: dialog_minimapstyle.mdl
===================================================================
--- dialog_minimapstyle.mdl	(revision 114)
+++ dialog_minimapstyle.mdl	(working copy)
@@ -1,6 +1,8 @@
 use "cortui_settings";
 use "model";
 
+Style = Max(Multiply(Add(Multiply(-1, OverridePaneStyle),1),NormalHUDMode),Multiply(OverridePaneStyle,UseMinimapStyle));
+
 //this file is called by:
 // consectorinfobmp.mdl for minimappanel
 // conesectorinfobmp.mdl for minimappanelexpanded
@@ -11,30 +13,63 @@
 
 // variable description:
 // minimappanel : the background pane for the minimap on which the map and icons are projected
-// minimappanelexpanden : same as above; the larger version that folds out and to give you more info.
+// minimappanelexpanded : same as above; the larger version that folds out and to give you more info.
 // sectormapbg : the background for the actual map.
 // sectormapbg_opaque : a non-transparent version of the map background, for use in dialogs where a transparent one looks stupid.
 // minimapexpandbtn : the button you click to expand the minimap panel.
 
-//GlassHUD	
-minimappanel = ImportImageFromFile("mods/CortUI/media/GlassHUD/minimappanel.png", false);
-minimappanelexpanded = ImportImageFromFile("mods/CortUI/media/GlassHUD/minimappanelexpanded.png", false);
-sectormapbg = ImportImageFromFile("mods/CortUI/media/GlassHUD/sectormapbg.png", false);
-sectormapbg_opaque = ImportImageFromFile("mods/CortUI/media/GlassHUD/sectormapbg_opaque.png", false); //used a.o. in missionbrief.mdl 
-minimapexpandbtn = ImportImageFromFile("mods/CortUI/media/GlassHUD/minimapexpandbtn.png", false);
+minimappanel = 
+	SwitchImage(
+		Style,
+		ImportImageFromFile("mods/CortUI/media/classic/minimappanel.png", false),
+		[
+		(1,ImportImageFromFile("mods/CortUI/media/greytones/minimappanel.png", false)),
+		(2,ImportImageFromFile("mods/CortUI/media/greytones/minimappanel.png", false)),
+		(3,ImportImageFromFile("mods/CortUI/media/GlassHUD/minimappanel.png", false))
+		]
+	);
 
-/*
-//greytones
-minimappanel = ImportImageFromFile("mods/CortUI/media/greytones/minimappanel.png", false);
-minimappanelexpanded = ImportImageFromFile("mods/CortUI/media/classic/minimappanelexpanded.png", false);
-sectormapbg = ImportImageFromFile("mods/CortUI/media/greytones/sectormapbg.png", false);
-sectormapbg_opaque = ImportImageFromFile("mods/CortUI/media/greytones/sectormapbg_opaque.png", false); //used a.o. in missionbrief.mdl 
-minimapexpandbtn = ImportImageFromFile("mods/CortUI/media/classic/minimapexpandbtn.png", false); 
+minimappanelexpanded = 
+	SwitchImage(
+		Style,
+		ImportImageFromFile("mods/CortUI/media/classic/minimappanelexpanded.png", false),
+		[
+		(1,ImportImageFromFile("mods/CortUI/media/greytones/minimappanelexpanded.png", false)),
+		(2,ImportImageFromFile("mods/CortUI/media/greytones/minimappanelexpanded.png", false)),
+		(3,ImportImageFromFile("mods/CortUI/media/GlassHUD/minimappanelexpanded.png", false))
+		]
+	);
 
-//classic
-minimappanel = ImportImageFromFile("mods/CortUI/media/classic/minimappanel.png", false);
-minimappanelexpanded = ImportImageFromFile("mods/CortUI/media/greytones/minimappanelexpanded.png", false);
-sectormapbg = ImportImageFromFile("mods/CortUI/media/classic/sectormapbg.png", false);
-sectormapbg_opaque = ImportImageFromFile("mods/CortUI/media/classic/sectormapbg.png", false), //used a.o. in missionbrief.mdl 
-minimapexpandbtn = ImportImageFromFile("mods/CortUI/media/greytones/minimapexpandbtn.png", false);
-*/
\ No newline at end of file
+sectormapbg = 
+	SwitchImage(
+		Style,
+		ImportImageFromFile("mods/CortUI/media/classic/sectormapbg.png", false),
+		[
+		(1,ImportImageFromFile("mods/CortUI/media/greytones/sectormapbg.png", false)),
+		(2,ImportImageFromFile("mods/CortUI/media/greytones/sectormapbg.png", false)),
+		(3,ImportImageFromFile("mods/CortUI/media/GlassHUD/sectormapbg.png", false))
+		]
+	);	
+	
+//as used a.o. in missionbrief.mdl 
+sectormapbg_opaque =
+	SwitchImage(
+		Style,
+		ImportImageFromFile("mods/CortUI/media/classic/sectormapbg.png", false),
+		[
+		(1,ImportImageFromFile("mods/CortUI/media/greytones/sectormapbg_opaque.png", false)),
+		(2,ImportImageFromFile("mods/CortUI/media/greytones/sectormapbg_opaque.png", false)),
+		(3,ImportImageFromFile("mods/CortUI/media/GlassHUD/sectormapbg_opaque.png", false))
+		]
+	);	
+
+minimapexpandbtn = 
+	SwitchImage(
+		Style,
+		ImportImageFromFile("mods/CortUI/media/classic/minimapexpandbtn.png", false),
+		[
+		(1,ImportImageFromFile("mods/CortUI/media/greytones/minimapexpandbtn.png", false)),
+		(2,ImportImageFromFile("mods/CortUI/media/greytones/minimapexpandbtn.png", false)),
+		(3,ImportImageFromFile("mods/CortUI/media/GlassHUD/minimapexpandbtn.png", false))
+		]
+	);		
\ No newline at end of file
